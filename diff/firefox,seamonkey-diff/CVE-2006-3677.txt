--- js/src/liveconnect/jsj.c	19 Oct 2005 18:55:44 -0000	1.33
+++ js/src/liveconnect/jsj.c	23 Jun 2006 17:55:42 -0000
@@ -864,17 +864,17 @@ JSJ_ConvertJavaObjectToJSValue(JSContext
     jsj_ExitJava(jsj_env);
     return result;
 }
 
 
 JS_EXPORT_API(JSBool)
 JSJ_ConvertJSValueToJavaObject(JSContext *cx, jsval v, jobject *vp)
 {
-    if (JSVAL_IS_OBJECT(v)) {
+    if (!JSVAL_IS_PRIMITIVE(v)) {
         JSObject *js_obj = JSVAL_TO_OBJECT(v);
         JavaObjectWrapper *java_wrapper = JS_GetPrivate(cx, js_obj);
         *vp = java_wrapper->java_obj;
         return JS_TRUE;
     }
     return JS_FALSE;
 }
 
