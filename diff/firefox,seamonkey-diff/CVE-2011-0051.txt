diff --git a/embedding/components/windowwatcher/src/nsPromptService.cpp b/embedding/components/windowwatcher/src/nsPromptService.cpp
--- a/embedding/components/windowwatcher/src/nsPromptService.cpp
+++ b/embedding/components/windowwatcher/src/nsPromptService.cpp
@@ -783,16 +783,18 @@ nsPromptService::DoDialog(nsIDOMWindow *
   // (though we'd rather this didn't fail, it's OK if it does. so there's
   // no failure or null check.)
   nsCOMPtr<nsIDOMWindow> activeParent; // retain ownership for method lifetime
   if (!aParent) {
     mWatcher->GetActiveWindow(getter_AddRefs(activeParent));
     aParent = activeParent;
   }
 
+  aParamBlock->SetInt(eButtonPressed, 1);
+
   nsCOMPtr<nsISupports> arguments(do_QueryInterface(aParamBlock));
   nsCOMPtr<nsIDOMWindow> dialog;
   rv = mWatcher->OpenWindow(aParent, aChromeURL, "_blank",
                             "centerscreen,chrome,modal,titlebar", arguments,
                             getter_AddRefs(dialog));
 
   return rv;
 }

