--- parser/htmlparser/src/nsExpatDriver.cpp	21 Nov 2005 14:59:12 -0000	3.86
+++ parser/htmlparser/src/nsExpatDriver.cpp	15 Dec 2005 13:29:21 -0000
@@ -876,7 +876,7 @@ nsExpatDriver::ParseBuffer(const char* a
           NS_ASSERTION(parserBytesConsumed == -1,
                        "Unexpected negative value?");
           // Consumed everything.
-          startOffset = aLength;
+          startOffset = aLength / sizeof(PRUnichar);
         }
         else {
           // Consumed something, but not all
