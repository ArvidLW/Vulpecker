--- jsdbgapi.c	7 Nov 2006 01:30:16 -0000	3.70
+++ jsdbgapi.c	7 Nov 2006 02:32:26 -0000
@@ -361,22 +361,24 @@ js_watch_set(JSContext *cx, JSObject *ob
             if (ok) {
                 /*
                  * Create pseudo-frame for call to setter so that any
                  * stack-walking security code in the setter will correctly
                  * identify the guilty party.
                  */
                 JSObject *funobj = (JSObject *) wp->closure;
                 JSFunction *fun = (JSFunction *) JS_GetPrivate(cx, funobj);
+                jsval argv[2] = { OBJECT_TO_JSVAL(funobj), JSVAL_NULL };
                 JSStackFrame frame;
 
                 memset(&frame, 0, sizeof(frame));
                 frame.script = FUN_SCRIPT(fun);
                 frame.fun = fun;
                 frame.down = cx->fp;
+                frame.argv = argv + 2;
                 cx->fp = &frame;
                 ok = !wp->setter ||
                      ((sprop->attrs & JSPROP_SETTER)
                       ? js_InternalCall(cx, obj, OBJECT_TO_JSVAL(wp->setter),
                                         1, vp, vp)
                       : wp->setter(cx, OBJ_THIS_OBJECT(cx, obj), userid, vp));
                 cx->fp = frame.down;
             }
