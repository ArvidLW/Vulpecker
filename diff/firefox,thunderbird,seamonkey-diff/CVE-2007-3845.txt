--- xpcom/io/nsEscape.cpp	17 Jun 2007 12:29:08 -0000	1.36
+++ xpcom/io/nsEscape.cpp	23 Jul 2007 19:07:27 -0000
@@ -405,17 +405,17 @@ NS_COM PRBool NS_EscapeURL(const char *p
       // On special request we will also escape the colon even when
       // not covered by the matrix.
       // ignoreAscii is not honored for control characters (C0 and DEL)
       //
       // And, we should escape the '|' character when it occurs after any
       // non-ASCII character as it may be part of a multi-byte character.
       if ((NO_NEED_ESC(c) || (c == HEX_ESCAPE && !forced)
                           || (c > 0x7f && ignoreNonAscii)
-                          || (c > 0x1f && c < 0x7f && ignoreAscii))
+                          || (c > 0x20 && c < 0x7f && ignoreAscii))
           && !(c == ':' && colon)
           && !(previousIsNonASCII && c == '|' && !ignoreNonAscii))
       {
         if (writing)
           tempBuffer[tempBufferPos++] = c;
       }
       else /* do the escape magic */
       {